<!doctype html>
<html lang="en" ng-app="texasApp">
<head>
  <meta charset="UTF-8">
  <title>Texas Hold'em Poker Game</title>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/bower_components/angular/angular.js"></script>
  <script src="/bower_components/angular-socket-io/socket.js"></script>
  <script src="texas.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body ng-controller="TableController as table">
  <ul class="pages">
    <li class="main page" ng-show="connected">
      <div class="hallArea">
        <div>
          <span>Available Tables: </span>
          <input type="button" ng-repeat="table_name in tables" value="{{table_name}}" ng-click="join(table_name)" />
          New Table:<input type="text" ng-model="new_table" /> <input type="button" value="Create" ng-click="create_table(new_table)" />
          <input type="button" value="Quit" ng-click="quit()" />
        </div>
        <div>
          <span>Online Users: </span>
          <span ng-repeat="user in users">{{user + ' '}}</span>
        </div>
      </div>
      <div class="tableArea">
        State: <span>{{state}}</span>
        Table: <span>{{name}}</span>
        Bet: <span>{{bet}}</span>
        Pot: <span>{{pot}}</span>
        Cards: <span ng-repeat="card in community_cards">{{card}}</span>
        <div class="playersArea">
          <div ng-repeat="player in players" class="player {{positions[player.player]}}">
            <span>{{player.player}}</span>
            <span>{{player.name}}</span>
            <span>{{player.chips}}</span>
            <span>{{player.folded}}</span>
            <span>{{player.cards}}</span>
            <span>{{player.hand}}</span>
            <span>{{player.bet}}</span>
          </div>
        </div>
      </div>
      <div class="controlArea">
        <span class="index">{{player_index}}</span>
        <input type="button" ng-show="state == 0" value="Start" ng-click="game_start()" />
        <input type="button" ng-repeat="action in actions" value="{{action}}" ng-click="game_action(action, range.value)" />
        <div ng-show="range.min > 0 && range.max > 0 && range.max > range.min">
          <input type="range" min="{{range.min}}" max="{{range.max}}" ng-model="range.value"/>
          <span>{{range.value}}</span>
          <span ng-repeat="card in cards">{{card}}</span>
        </div>
      </div>
      <div class="chatArea">
        <input class="inputMessage" placeholder="Type here..." ng-model="inputMessage" ng-keydown="keydown($event)" />
        <ul class="messages">
          <li class="log" ng-repeat="message in messages">
            <span class="messageBody">{{message}}</span>
          </li>
        </ul>
      </div>
    </li>
    <li class="login page" ng-show="!connected">
      <div class="form">
        <div class="notice">{{notice}}</div>
        <div class="item"><div class="label">User Name</div><input class="usernameInput" type="text" ng-model="username"/></div>
        <div class="item"><div class="label">Password</div><input class="userpassInput" type="password" ng-model="password"/></div>
        <div class="item">
          <input class="loginButton" type="button" value="Login" ng-click="login('login')" />
          <input class="registerButton" type="button" value="Register" ng-click="login('reg')" />
        </div>
      </div>
    </li>
  </ul>
</body>
</html>
